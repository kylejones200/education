{{ define "main" }}
  <section class="section" style="padding:2rem 0;">
    <div class="container">
      {{ partial "hero_unsplash.html" . }}

      <article class="content" style="max-width:800px;margin:0 auto;">
        <header style="margin-bottom:1rem;">
          <h1 style="margin:0 0 .25rem 0;">{{ .Title }}</h1>
          <p style="margin:0;color:#6b7280;font-size:.95rem;">
            {{ with .Date }}<time datetime="{{ . | time.Format "2006-01-02" }}">{{ . | time.Format "Jan 2, 2006" }}</time> Â· {{ end }}
            {{ .ReadingTime }} min read
          </p>
        </header>

        {{ with .TableOfContents }}
          <nav aria-label="Table of contents" style="border:1px solid #e5e7eb;border-radius:12px;padding:1rem;background:#fff;margin:0 0 1rem 0;">
            <strong style="display:block;margin:0 0 .5rem 0;">On this page</strong>
            {{ . }}
          </nav>
        {{ end }}

        <div class="prose">
          {{ .Content }}
        </div>

        {{/* Related content */}}
        {{ $related := site.RegularPages.Related . | first 6 }}
        {{ with $related }}
          <hr style="margin:2rem 0;"/>
          <section>
            <h2 style="margin:0 0 .75rem 0;">Related</h2>
            <ul style="display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:.75rem;padding:0;list-style:none;">
              {{ range . }}
                <li style="border:1px solid #e5e7eb;border-radius:10px;background:#fff;">
                  <a href="{{ .RelPermalink }}" style="display:block;padding:.75rem .9rem;text-decoration:none;color:inherit;">
                    <strong>{{ .Title }}</strong>
                    <div style="color:#6b7280;font-size:.9rem;margin-top:.15rem;">{{ .Summary | plainify | truncate 120 }}</div>
                  </a>
                </li>
              {{ end }}
            </ul>
          </section>
        {{ end }}
      </article>
    </div>
  </section>
{{ end }}
